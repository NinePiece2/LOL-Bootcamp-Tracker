import React from 'react';

interface GameProfileLinksProps {
  riotId: string | null;
  summonerName: string;
  region?: string;
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

export function GameProfileLinks({ 
  riotId, 
  summonerName, 
  region = 'kr',
  size = 'md',
  className = ''
}: GameProfileLinksProps) {
  const getOpGgUrl = () => {
    let nameWithTag = summonerName;
    
    // If riotId exists and contains a tag, append it to the name
    if (riotId && riotId.includes('#')) {
      const [gameName, tag] = riotId.split('#');
      nameWithTag = `${gameName}-${tag}`;
    }
    
    const cleanName = encodeURIComponent(nameWithTag.replace(/\s+/g, ''));
    return `https://op.gg/summoners/${region.toLowerCase()}/${cleanName}`;
  };

  const getDpmUrl = () => {
    // DPMLoL uses format: https://www.dpm.lol/gameName%20-tag
    let nameWithTag = summonerName;
    
    if (riotId && riotId.includes('#')) {
      const [gameName, tag] = riotId.split('#');
      nameWithTag = `${gameName} -${tag}`;
    }
    
    const cleanName = encodeURIComponent(nameWithTag);
    return `https://dpm.lol/${cleanName}`;
  };

  const sizeMap = {
    sm: { width: '12', height: '12' },
    md: { width: '15', height: '15' },
    lg: { width: '18', height: '18' }
  };

  const { width, height } = sizeMap[size];

  return (
    <div className={`flex items-center gap-2 ${className}`}>
      <a
        href={getOpGgUrl()}
        target="_blank"
        rel="noopener noreferrer"
        className="hover:opacity-70 transition-opacity"
        title="View on OP.GG"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width={width} height={height} viewBox="0 0 16 16" fill="none">
          <path d="M11.9448 8.50586C13.0489 8.50586 14.0886 8.99598 14.8068 9.84555L14.9141 9.97624L14.7748 10.0634L13.5634 10.8694L13.4669 10.9347L13.3812 10.8477C12.9953 10.4555 12.4915 10.2703 11.9448 10.2703C10.8406 10.2703 9.94019 11.1417 9.94019 12.2527C9.94019 13.3637 10.8406 14.2677 11.9448 14.2677C12.8774 14.2677 13.4991 13.734 13.6277 13.1458H12.0949V11.8061H15.4286C15.4394 11.9041 15.4501 12.0457 15.4501 12.2527C15.4608 12.6012 15.4393 12.819 15.375 13.2329C15.0963 14.943 13.7778 15.9995 11.9448 15.9995C9.88659 15.9995 8.20361 14.3222 8.20361 12.2527C8.21433 10.1832 9.88659 8.50586 11.9448 8.50586Z" fill="white"></path>
          <path d="M4.09711 8.50586C5.20123 8.50586 6.24108 8.99598 6.9593 9.84555L7.06647 9.97624L6.92711 10.0634L5.71578 10.8694L5.61934 10.9347L5.53363 10.8477C5.14773 10.4555 4.64381 10.2703 4.09711 10.2703C2.99298 10.2703 2.09254 11.1417 2.09254 12.2527C2.09254 13.3637 2.99298 14.2677 4.09711 14.2677C5.02972 14.2677 5.65153 13.734 5.78016 13.1458H4.2472V11.8061H7.58099C7.59171 11.9041 7.60245 12.0457 7.60245 12.2527C7.61317 12.6012 7.59179 12.819 7.52747 13.2329C7.24876 14.943 5.93017 15.9995 4.09711 15.9995C2.03893 15.9995 0.355957 14.3222 0.355957 12.2527C0.355957 10.1832 2.03893 8.50586 4.09711 8.50586Z" fill="white"></path>
          <path d="M14.914 7.49267C15.3344 7.49267 15.6751 7.1513 15.6751 6.73022C15.6751 6.30914 15.3344 5.96777 14.914 5.96777C14.4937 5.96777 14.1528 6.30914 14.1528 6.73022C14.1528 7.1513 14.4937 7.49267 14.914 7.49267Z" fill="white"></path>
          <path d="M4.06586 0C6.13475 0 7.807 1.68826 7.807 3.75773C7.807 5.8272 6.12403 7.5154 4.06586 7.5154C1.99696 7.5154 0.324707 5.8272 0.324707 3.75773C0.324707 1.68826 2.00768 0 4.06586 0ZM12.245 0C13.8207 0 14.9249 1.24169 14.9249 2.86458C14.9249 4.48748 13.7671 5.72917 12.245 5.72917H10.1975V7.50456H8.51441V0.0108693H12.245V0ZM4.06586 1.77539C2.98317 1.77539 2.09335 2.65763 2.09335 3.74683C2.09335 4.83602 2.97244 5.71827 4.05513 5.71827C5.13781 5.71827 6.01678 4.83602 6.01678 3.74683C6.01678 2.65763 5.14854 1.77539 4.06586 1.77539ZM12.2342 1.73178H10.1975V3.98642H12.2342C12.931 3.98642 13.1454 3.33294 13.1454 2.86458C13.1561 2.39623 12.9417 1.73178 12.2342 1.73178Z" fill="white"></path>
        </svg>
      </a>
      <a
        href={getDpmUrl()}
        target="_blank"
        rel="noopener noreferrer"
        className="hover:opacity-70 transition-opacity"
        title="View on DPM.lol"
      >
        <svg viewBox="0 0 332 333" xmlns="http://www.w3.org/2000/svg" fill="none" style={{width: `${width}px`, height: `${height}px`}}>
          <g clipPath="url(#clip0_74_1388)">
            <path d="M64.7236 -0.501734C66.0899 -0.505524 67.4561 -0.51103 68.8224 -0.518106C72.5134 -0.532 76.2039 -0.520928 79.8949 -0.504395C83.7848 -0.490447 87.6747 -0.497017 91.5646 -0.500528C98.1079 -0.503227 104.651 -0.489801 111.194 -0.466577C118.704 -0.440104 126.214 -0.438179 133.724 -0.449966C140.999 -0.460849 148.273 -0.454466 155.548 -0.440411C158.618 -0.434728 161.687 -0.434672 164.757 -0.439476C185.017 -0.463095 205.263 -0.250945 224.812 5.74998C225.676 6.00819 226.539 6.26641 227.429 6.53245C246.909 12.5445 264.768 22.3884 280 36C280.972 36.8404 281.944 37.6809 282.945 38.5469C310.212 62.4559 328.845 98.3235 331.855 134.642C334.461 177.009 323.393 216.311 295.645 248.754C293.468 251.208 291.248 253.611 289 256C288.413 256.651 287.827 257.302 287.223 257.973C263.223 283.547 225.819 298.631 191.199 300.254C189.508 300.301 187.817 300.342 186.125 300.375C185.34 300.401 184.555 300.427 183.746 300.454C177.469 300.472 172.208 298.887 167.47 294.623C162.594 289.192 161.752 283.711 161.745 276.624C161.739 275.555 161.739 275.555 161.734 274.464C161.727 272.923 161.724 271.383 161.726 269.843C161.727 267.394 161.714 264.946 161.697 262.497C161.651 255.538 161.626 248.579 161.619 241.619C161.614 237.352 161.59 233.085 161.554 228.819C161.544 227.204 161.542 225.59 161.547 223.975C161.595 208.657 158.657 195.723 148.191 183.969C136.548 172.931 122.715 170.715 107.329 170.695C105.045 170.691 102.762 170.674 100.478 170.654C93.9906 170.599 87.5035 170.568 81.0163 170.544C77.0312 170.528 73.0463 170.497 69.0613 170.459C67.5524 170.447 66.0434 170.441 64.5344 170.441C45.6521 170.439 45.6521 170.439 38 163C31.9482 155.046 31.7052 148.082 31.7253 138.42C31.7202 137.155 31.7151 135.889 31.7098 134.585C31.6965 131.124 31.6959 127.663 31.6984 124.202C31.6995 121.307 31.6946 118.412 31.6898 115.517C31.6787 108.684 31.6782 101.851 31.6843 95.0176C31.6903 87.9818 31.678 80.9462 31.6567 73.9105C31.6391 67.8577 31.6331 61.8049 31.6364 55.752C31.6382 52.1423 31.6356 48.5328 31.6216 44.9231C31.6067 40.8947 31.6161 36.8667 31.6277 32.8384C31.62 31.6516 31.6124 30.4648 31.6045 29.2421C31.6565 21.0579 32.5469 14.1634 38.125 7.74998C38.6432 7.12607 39.1614 6.50216 39.6953 5.85935C47.3366 -0.305525 55.2174 -0.574533 64.7236 -0.501734Z" fill="currentColor"></path>
            <path d="M29.691 194.612C31.0758 194.604 31.0758 194.604 32.4885 194.596C35.5132 194.583 38.5374 194.592 41.562 194.602C43.68 194.6 45.7979 194.597 47.9158 194.593C52.3439 194.589 56.7717 194.595 61.1997 194.609C66.8587 194.626 72.5172 194.616 78.1761 194.598C82.5463 194.587 86.9164 194.591 91.2866 194.599C93.3725 194.601 95.4584 194.598 97.5443 194.591C100.466 194.584 103.387 194.595 106.308 194.612C107.585 194.603 107.585 194.603 108.887 194.594C116.26 194.671 123.644 196.101 129.312 201.125C129.927 201.643 130.542 202.162 131.175 202.695C136.334 209.213 137.593 215.918 137.533 224.043C137.542 225.003 137.55 225.964 137.559 226.954C137.582 230.104 137.575 233.253 137.566 236.402C137.571 238.608 137.577 240.813 137.585 243.018C137.595 247.63 137.591 252.242 137.576 256.854C137.559 262.747 137.582 268.638 137.617 274.53C137.639 279.081 137.638 283.632 137.63 288.184C137.629 290.355 137.636 292.527 137.65 294.698C137.668 297.742 137.653 300.784 137.631 303.828C137.648 305.156 137.648 305.156 137.666 306.51C137.555 313.874 135.23 320.173 130.442 325.845C123.658 332.228 115.415 333.453 106.416 333.388C105.504 333.394 104.592 333.399 103.653 333.404C100.665 333.417 97.6784 333.409 94.691 333.399C92.5979 333.401 90.5047 333.404 88.4116 333.407C84.0349 333.412 79.6583 333.405 75.2815 333.391C69.6922 333.374 64.1033 333.384 58.5139 333.402C54.1943 333.413 49.8748 333.409 45.5552 333.402C43.4952 333.4 41.4353 333.402 39.3754 333.409C36.4876 333.417 33.6004 333.405 30.7127 333.388C29.4553 333.397 29.4553 333.397 28.1726 333.407C19.714 333.317 12.0999 331.55 5.56986 325.988C0.502259 319.572 -0.587891 313.706 -0.518031 305.672C-0.52504 304.669 -0.53205 303.667 -0.539271 302.634C-0.556791 299.339 -0.54525 296.045 -0.531703 292.75C-0.5344 290.449 -0.538283 288.148 -0.5433 285.847C-0.549187 281.032 -0.540658 276.217 -0.521937 271.402C-0.499149 265.242 -0.512276 259.083 -0.536227 252.922C-0.550707 248.173 -0.546069 243.424 -0.535716 238.675C-0.533055 236.404 -0.536297 234.133 -0.545634 231.862C-0.555835 228.684 -0.540248 225.506 -0.518031 222.328C-0.526128 221.397 -0.534225 220.466 -0.542567 219.507C-0.453302 212.586 1.23337 207.426 5.60502 202.012C12.8432 195.953 20.4435 194.546 29.691 194.612Z" fill="currentColor"></path>
          </g>
          <defs>
            <clipPath id="clip0_74_1388">
              <rect width="332" height="333" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>
      </a>
    </div>
  );
}
